---
import { markdownify } from "@/lib/utils/textConverter";
import ImageMod from "../ImageMod.astro";

const { benefits } = Astro.props;
---

<section class="section bg-primary">
  <div class="container">
    <div class="row justify-center">
      <div class="sm:col-8 text-center">
        <p
          set:html={markdownify(benefits.subtitle)}
          class="mb-4 text-sm text-light/70"
          data-aos="fade-up-sm"
        />
        <h2
          set:html={markdownify(benefits.title)}
          class="mb-8 md:mb-[7.5rem] lg:h1 text-light"
          data-aos="fade-up-sm"
          data-aos-delay="100"
        />
      </div>
      <div class="col-12">
        <div
          class="flex flex-wrap lg:flex-nowrap gap-6 justify-center w-full"
          data-aos="fade-up-sm"
          data-aos-delay="200"
        >
          <!-- left -->
          <div
            class="w-full lg:w-1/3 min-h-full flex flex-col md:flex-row lg:flex-col justify-between gap-6"
          >
            {
              benefits.points
                .filter((_: any, i: number) => i !== 1)
                .slice(0, 2)
                .map((point: any, i: number) => (
                  <div
                    class="lg:h-1/2 rounded-2xl overflow-hidden flex flex-col"
                    data-aos="zoom-in-sm"
                    data-aos-delay={`${i * 200}`}
                  >
                    <div class="bg-light/15 max-lg:pt-4 max-lg:pb-8 flex-grow relative grid place-items-center">
                      <div class="blurryDivBg w-[70%] rounded-2xl z-10">
                        <ImageMod
                          src={point.image}
                          alt={point.title}
                          width={364}
                          height={300}
                        />
                      </div>
                    </div>
                    <div class="p-6 bg-light/10 mt-auto">
                      <p class="text-xl mb-2 text-light">{point.title}</p>
                      <p class="text-light/70">{point.content}</p>
                    </div>
                  </div>
                ))
            }
          </div>

          <!-- middle -->
          <div
            class="w-full lg:w-1/3 min-h-full"
            data-aos="fade-up-sm"
            data-aos-delay="300"
          >
            <div class="rounded-2xl overflow-hidden flex flex-col">
              <div class="bg-light/15 flex-grow">
                <ImageMod
                  src={benefits.points[1].image}
                  alt={benefits.points[1].title}
                  width={392}
                  height={644}
                  class="w-full"
                />
              </div>
              <div class="p-6 bg-light/10 mt-auto">
                <p class="text-xl mb-2 text-light">
                  {benefits.points[1].title}
                </p>
                <p class="text-light/70">{benefits.points[1].content}</p>
              </div>
            </div>
          </div>

          <!-- right -->
          <div
            class="w-full lg:w-1/3 min-h-full flex flex-col md:flex-row lg:flex-col justify-between gap-6"
          >
            {
              benefits.points.slice(3, 5).map((point: any, i: number) => (
                <div
                  class="lg:h-1/2 rounded-2xl overflow-hidden flex flex-col"
                  data-aos="zoom-in-sm"
                  data-aos-delay={`${i * 200}`}
                >
                  <div class="bg-light/15 max-lg:pt-4 max-lg:pb-8 flex-grow relative grid place-items-center">
                    <div class="blurryDivBg w-[70%] rounded-2xl z-10">
                      <ImageMod
                        src={point.image}
                        alt={point.title}
                        width={364}
                        height={300}
                      />
                    </div>
                  </div>
                  <div class="p-6 bg-light/10 mt-auto">
                    <p class="text-xl mb-2 text-light">{point.title}</p>
                    <p class="text-light/70">{point.content}</p>
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
