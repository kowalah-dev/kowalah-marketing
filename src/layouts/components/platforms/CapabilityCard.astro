---
import { markdownify } from "@/lib/utils/textConverter";
import Button from "@/shortcodes/Button";

interface Props {
  title: string;
  badge?: string;
  description: string;
  benefits: string[];
  use_cases: string[];
  link?: string;
}

const { title, badge, description, benefits, use_cases, link } = Astro.props;
---

<div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100 hover:shadow-md transition-shadow h-full flex flex-col">
  <!-- Header -->
  <div class="mb-4">
    <div class="flex items-center gap-3 mb-3">
      <h3 class="text-xl font-semibold" set:html={markdownify(title)} />
      {badge && (
        <span class="inline-block px-2.5 py-0.5 bg-primary/10 text-primary text-xs font-semibold rounded-full whitespace-nowrap">
          {badge}
        </span>
      )}
    </div>
    <p class="text-dark/70" set:html={markdownify(description)} />
  </div>

  <!-- Benefits -->
  {benefits.length > 0 && (
    <div class="mb-4">
      <h4 class="text-sm font-semibold uppercase tracking-wide text-dark/50 mb-2">Key Benefits</h4>
      <ul class="space-y-1.5">
        {benefits.map((benefit) => (
          <li class="flex items-start space-x-2 text-sm">
            <div class="flex-shrink-0 w-5 h-5 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center mt-0.5">
              <svg class="w-2.5 h-2.5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
            </div>
            <span set:html={markdownify(benefit)} />
          </li>
        ))}
      </ul>
    </div>
  )}

  <!-- Use Cases -->
  {use_cases.length > 0 && (
    <div class="mb-4 flex-grow">
      <h4 class="text-sm font-semibold uppercase tracking-wide text-dark/50 mb-2">Use Cases</h4>
      <div class="flex flex-wrap gap-2">
        {use_cases.map((useCase) => (
          <span class="inline-block px-3 py-1 bg-gray-100 text-dark/70 text-xs rounded-full">
            {useCase}
          </span>
        ))}
      </div>
    </div>
  )}

  <!-- Link -->
  {link && (
    <div class="mt-auto pt-4">
      <Button
        label="Learn More"
        link={link}
        style="outline"
      />
    </div>
  )}
</div>
