---
import ImageMod from "@/components/ImageMod.astro";
import Base from "@/layouts/Base.astro";
import { markdownify } from "@/lib/utils/textConverter";
import CallToAction from "@/partials/CallToAction.astro";
import PageHeader from "@/partials/PageHeader.astro";
import Testimonial from "@/partials/Testimonial.astro";
import Button from "@/shortcodes/Button";
import { Icon } from "astro-icon/components";
import type { CollectionEntry } from "astro:content";
import { getEntry } from "astro:content";

// Static page data (migrated from content/product/-index.md)
const pageData = {
  title: "Product",
  meta_title: "Kowalah Platform Overview - Complete Digital Chief AI Officer Solution",
  description: "Discover Kowalah's comprehensive Digital Chief AI Officer platform. Get executive-level AI leadership across 7 core capabilities: strategy, governance, implementation, and organizational transformation.",
  hero: {
    title: "Complete Digital CAIO Platform",
    subtitle: "Transform your organization's AI journey with executive-level expertise across all critical domains. From strategy development to hands-on implementation, get the complete AI leadership platform."
  },
  features: [
    {
      title: "AI Strategy and Vision",
      subtitle: "Strategic Leadership",
      image: "/images/product/product-overview/1.png",
      points: [
        { icon: "graph", detail: "Develop organizational AI strategy aligned with business objectives" },
        { icon: "bulb", detail: "Create AI vision statements and strategic roadmaps" },
        { icon: "monitor", detail: "Conduct AI readiness assessments and opportunity identification" },
        { icon: "doller", detail: "Build business cases for AI investments with ROI modeling" }
      ],
      button: { enable: true, label: "Explore Strategy", link: "/contact" }
    },
    {
      title: "C-Suite Collaboration",
      subtitle: "Executive Alignment",
      image: ["/images/product/product-overview/2.png", "/images/product/product-overview/2.2.png"],
      points: [
        { icon: "profile", detail: "Facilitate AI discussions with board members and executives" },
        { icon: "compass", detail: "Translate technical AI concepts for business stakeholders" },
        { icon: "bulb", detail: "Manage AI-related stakeholder expectations and communications" },
        { icon: "monitor", detail: "Support AI governance at the executive level" }
      ],
      button: { enable: true, label: "Learn More", link: "/contact" }
    },
    {
      title: "AI Governance and Risk Management",
      subtitle: "Risk & Compliance",
      image: ["/images/product/product-overview/3.png", "/images/product/product-overview/3.3.png"],
      points: [
        { icon: "up", detail: "Establish AI ethics frameworks and responsible AI practices" },
        { icon: "compass", detail: "Develop AI policies, procedures, and compliance protocols" },
        { icon: "monitor", detail: "Manage AI-related regulatory requirements and audits" },
        { icon: "profile", detail: "Implement AI risk assessment and mitigation strategies" }
      ],
      button: { enable: true, label: "Explore Governance", link: "/contact" }
    },
    {
      title: "Talent and Capability Building",
      subtitle: "Team Development",
      image: "/images/product/product-overview/4.png",
      points: [
        { icon: "bulb", detail: "Design AI upskilling and training programs for teams" },
        { icon: "profile", detail: "Assess AI skill gaps and development needs" },
        { icon: "speed", detail: "Guide AI talent acquisition and team structure" },
        { icon: "upward", detail: "Create AI literacy programs for different organizational levels" }
      ],
      button: { enable: true, label: "Build Capabilities", link: "/contact" }
    },
    {
      title: "AI Implementation and Performance",
      subtitle: "Technical Execution",
      image: ["/images/product/product-overview/5.png", "/images/product/product-overview/5.5.png"],
      points: [
        { icon: "speed", detail: "Guide AI technology selection and vendor evaluation" },
        { icon: "monitor", detail: "Oversee AI project planning and execution" },
        { icon: "graph", detail: "Monitor AI system performance and optimization" },
        { icon: "cloud", detail: "Coordinate AI integration with existing systems" }
      ],
      button: { enable: true, label: "Get Implementation Support", link: "/contact" }
    },
    {
      title: "App and Prompt Development",
      subtitle: "Custom AI Solutions",
      image: "/images/product/product-overview/6.png",
      points: [
        { icon: "bulb", detail: "Provide guidance on building internal AI applications" },
        { icon: "task", detail: "Support prompt engineering and AI workflow design" },
        { icon: "auto", detail: "Advise on AI tool customization and optimization" },
        { icon: "monitor", detail: "Guide integration of AI capabilities into business processes" }
      ],
      button: { enable: true, label: "Start Building", link: "/contact" }
    },
    {
      title: "Change Management",
      subtitle: "Organizational Transformation",
      image: "/images/product/product-overview/7.png",
      points: [
        { icon: "upward", detail: "Lead organizational AI transformation initiatives" },
        { icon: "profile", detail: "Manage resistance to AI adoption and cultural change" },
        { icon: "compass", detail: "Design communication strategies for AI rollouts" },
        { icon: "speed", detail: "Facilitate AI adoption across departments and teams" }
      ],
      button: { enable: true, label: "Drive Change", link: "/contact" }
    }
  ],
  conversion: {
    title: "Transform AI Vision Into <br> Business Reality",
    subtitle: "From Strategy to Execution",
    card: [
      {
        title: "Strategic AI Leadership Without Executive Search",
        image: "/images/features/avatar1.png",
        button: { enable: true, label: "Get Started", link: "/contact" }
      },
      {
        title: "Expert Requests for Hands-On Implementation",
        image: "/images/features/avatar2.png",
        button: { enable: true, label: "Request Expert Help", link: "/contact" }
      },
      {
        title: "24/7 AI Guidance with Collective Intelligence",
        image: "/images/features/avatar3.png",
        button: { enable: true, label: "Start Free Trial", link: "/contact" }
      }
    ]
  }
};

const { title, meta_title, description, hero, features, conversion } = pageData;

const testimonial = (await getEntry(
  "sections",
  "testimonial"
)) as CollectionEntry<"sections">;
const call_to_action = (await getEntry(
  "sections",
  "call-to-action"
)) as CollectionEntry<"sections">;
---

<Base title={title} meta_title={meta_title} description={description}>
  <PageHeader title={hero.title} content={hero.subtitle} />

  <section>
    <div class="container">
      <div class="row">
        {
          features.map((feature: any, index: number) => (
            <div class="col-12 mb-[5.5rem] last:mb-0">
              <div class="feature-card">
                <div
                  class={`feature-card-content max-lg:order-2 ${index % 2 === 0 ? "lg:order-1" : "lg:order-2"}`}
                >
                  <p
                    set:html={markdownify(feature.subtitle)}
                    class="mb-4 text-sm"
                    data-aos="fade-up-sm"
                  />
                  <h2
                    set:html={markdownify(feature.title)}
                    class="mb-8 lg:h1"
                    data-aos="fade-up-sm"
                  />
                  <ul class="mb-10">
                    {feature.points.map((item: any) => (
                      <li
                        class="flex items-center gap-4 mb-4 last:mb-0 text-text-dark"
                        data-aos="fade-up-sm"
                        data-aos-delay={300 + index * 50}
                      >
                        <Icon name={item.icon} size={24} />
                        <span set:html={markdownify(item.detail)} />
                      </li>
                    ))}
                  </ul>
                  <div data-aos="fade-up-sm" data-aos-delay="700">
                    <Button
                      label={feature.button.label}
                      link={feature.button.link}
                      icon="FaAngleRight"
                      className="w-fit"
                    />
                  </div>
                </div>
                <div
                  class={`feature-card-image max-lg:order-1 ${index % 2 !== 0 ? "lg:order-1" : "lg:order-2"}`}
                >
                  <div
                    class="bg-light rounded-3xl p-6 lg:p-[4rem] flex flex-col"
                    data-aos="fade-up-sm"
                    data-aos-delay="150"
                  >
                    {typeof feature.image === "string" ? (
                      <div data-aos="fade-up-sm" data-aos-delay="300">
                        <ImageMod
                          src={feature.image}
                          alt={feature.title}
                          width={337}
                          height={339}
                          quality="high"
                          class="border-b-4 border-text/10 rounded-3xl bg-light mx-auto"
                        />
                      </div>
                    ) : (
                      <>
                        <div data-aos="fade-up-sm" data-aos-delay="300">
                          <ImageMod
                            src={feature.image[0]}
                            alt={feature.title}
                            width={407}
                            height={109}
                            quality="high"
                            class="border border-text/10 rounded-3xl relative z-10 translate-y-1.5 bg-light mx-auto"
                          />
                        </div>
                        <div data-aos="fade-up-sm" data-aos-delay="350">
                          <ImageMod
                            src={feature.image[1]}
                            alt={feature.title}
                            width={399}
                            height={227}
                            quality="high"
                            class="border-b-4 border-text/10 rounded-3xl -translate-y-1.5 mx-auto"
                          />
                        </div>
                      </>
                    )}
                  </div>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <Testimonial testimonial={testimonial} />

  <section class="section bg-light">
    <div class="container">
      <div class="mb-14">
        <p
          set:html={markdownify(conversion.subtitle)}
          class="mb-2 text-sm text-center"
          data-aos="fade-up-sm"
        />
        {
          conversion.title && (
            <h2
              set:html={markdownify(conversion.title)}
              class="text-center lg:h1"
              data-aos="fade-up-sm"
            />
          )
        }
      </div>

      <div class="row g-4 justify-center">
        {
          conversion.card.map((c: any, index: number) => (
            <div
              class="lg:col-4 md:col-6 col-12 min-h-full"
              data-aos="fade-up-sm"
              data-aos-delay={200 + index * 100}
            >
              <div class="group relative overflow-hidden px-7 py-6 h-[30rem] rounded-2xl">
                <ImageMod
                  src={c.image}
                  alt={c.title}
                  width={364}
                  height={462}
                  class="absolute group-hover:scale-110 transition duration-500 object-cover left-0 top-0 w-full h-full"
                />
                <div class="bg-gradient-to-br from-black to-transparent opacity-50 h-full w-full absolute left-0 top-0" />

                <div class="flex flex-col justify-between h-full relative z-10">
                  <p class="text-[1.75rem] font-medium text-light max-md:[&>br]:hidden">
                    {c.title}
                  </p>
                  <Button
                    label={c.button.label}
                    link={c.button.link}
                    style="secondary"
                    className="w-fit"
                  />
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <CallToAction call_to_action={call_to_action} />
</Base>