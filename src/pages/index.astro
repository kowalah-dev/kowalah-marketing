---
import Benefits from "@/components/home/Benefits.astro";
import Hero from "@/components/home/Hero.astro";
import HomepageVideoPlayer from "@/remotion/HomepageVideoPlayer";
import Offering from "@/components/home/Offering.astro";
import Platforms from "@/components/home/Platforms.astro";
import PricingSection from "@/components/PricingSection";
import ProgramDepth from "@/components/home/ProgramDepth.astro";
import Transformation from "@/components/home/Transformation.astro";
import Base from "@/layouts/Base.astro";
import CallToAction from "@/partials/CallToAction.astro";
import Testimonial from "@/partials/Testimonial.astro";
import type { CollectionEntry } from "astro:content";
import { getEntry } from "astro:content";

const homepage = (await getEntry(
  "homepage",
  "-index"
)) as CollectionEntry<"homepage">;
const testimonial = (await getEntry(
  "sections",
  "testimonial"
)) as CollectionEntry<"sections">;
const call_to_action = (await getEntry(
  "sections",
  "call-to-action"
)) as CollectionEntry<"sections">;
const { hero, feature, offering, benefits, service_components, transformation, program_depth } = homepage.data;
---

<Base>
  <Hero {hero} />

  <!-- How It Works â€” animated narrative video -->
  <section class="section bg-tertiary">
    <div class="container">
      <div class="row justify-center">
        <div class="col-12" data-aos="fade-up-sm">
          <HomepageVideoPlayer client:visible />
        </div>
      </div>
    </div>
  </section>

  <Platforms />
  {transformation && <Transformation {transformation} />}
  {program_depth && <ProgramDepth {program_depth} />}
  <Offering {offering} />
  <Benefits {benefits} />
  <Testimonial testimonial={testimonial} />
  <PricingSection
    serviceComponents={service_components.components}
    investmentExamples={null}
    title={service_components.title}
    subtitle={service_components.subtitle}
    client:load
  />

  <CallToAction call_to_action={call_to_action} />
</Base>
